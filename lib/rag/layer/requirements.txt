# RAG Lambda Layer - Slimmed down for Lambda 250MB limit
# Document processing dependencies moved to container-based batch ingestion:
# - pypdf, lxml, python-docx (document parsing)
# - tiktoken (token counting)
# - langchain-text-splitters (chunking)
#
# This layer is used by Lambda functions for:
# - Repository/Collection CRUD operations
# - Similarity search (OpenSearch, PGVector)
# - Ingestion job management (submitting to Batch, not processing)
#
# Heavy document processing happens in container: lib/rag/ingestion/ingestion-image/

# Core langchain package for vector store base classes
langchain-core==1.2.14

# langchain-community for OpenSearchVectorSearch and PGVector classes
# This package has many optional dependencies - we only need the core vectorstore functionality
langchain-community==0.4.1

# Database and search connectors (required for similarity search)
opensearch-py==3.1.0
pgvector==0.4.2
requests-aws4auth==1.3.1

# Required by langchain-community for vector operations
# NumPy 2.x has pre-built wheels - pin to specific version to avoid source builds
numpy==2.4.2

# psycopg2-binary provided by Common Layer
# boto3/botocore provided by Lambda runtime

urllib3==2.6.3
